@startuml
activate Panel
Panel -> Server : /api/offices/{officeId}/userJoinCode(GET, header={"Authentication": deviceId})
activate Server
Panel <-- Server : 200 body={joinCode}
deactivate Server
Panel -> Panel : QR = renderQR(officeId, joinCode)
activate Panel
deactivate Panel
deactivate Panel
activate AdminApp
AdminApp -> Server : /api/devices(POST, body={password})
activate Server
AdminApp <-- Server : 200 body={id: deviceId, username: deviceId}
deactivate Server
AdminApp -> Server : /api/devices/login(POST, body={username: userId, password})
activate Server
AdminApp <-- Server : 200 body={id: authToken, ...}
deactivate Server
AdminApp -> Panel : scan(QR)
activate Panel
AdminApp <-- Panel : (officeId, joinCode)
deactivate Panel
AdminApp -> Server : /api/offices/{officeId}/join(PUT, header={"Authorization": authToken}, body={joinCode})
activate Server
AdminApp <-- Server : 200
deactivate Server
deactivate AdminApp
@enduml
